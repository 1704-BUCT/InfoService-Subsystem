# InfoService-Subsystem
It is built for users to browse museum datas more conveniencely.


### 1、项目介绍
#### 1.1 项目简要描述
本子系统为信息服务子系统，主要功能有提供博物馆相关新闻(正面和负面)、展览、藏品、教育活动的相关信息供用户浏览，并可以搜索相关信息，用户也可以对任一博物馆进行评论打分，并可以收藏自己喜欢的展览、藏品、教育活动，同时用户也可以看到各个博物馆的排名以便用户选择评价较好的博物馆去参观。

#### 1.2 主要特色

* 精选（新闻）页面提供下拉刷新、上拉加载更多数据的功能，更用户更流畅的体验
* 博物馆内采用可折叠式标题栏，更加节省屏幕空间，且大气美观
* 博物馆介绍用可折叠展开的文本框组件渲染，节省屏幕空间的同时也让用户可以不用向下滑动即可看到下面的内容
* 用户收藏功能让用户可以随时收藏起自己喜欢的展览、藏品等信息，以便更快捷的找到
* 看排名让用户可以更快地比较各个博物馆，择优参观

#### 1.3 开发环境和技术

| 开发环境 | Window10 |
| --- | --- |
| 开发工具 | AndroidStudio |
| 开发技术 | Java Android开发技术 |

#### 1.4 文件目录结构

```
main
├── AndroidManifest.xml               各个Activity的配置文件
├── java
│   └── com
│       └── example
│           └── museum
│                  ├── Adapter           存放 recyclerView需要的适配器定义
│                  ├── Components     存放自定义的一些组件 
│                  ├── Entity                   存放实体类
│                  ├── MainActivity.java   程序入口，设置底部导航栏
│                  ├── NewsActivity.java  显示新闻具体信息的页面      
│                  ├── UI                       
│                         ├── finding        发现页面的一些类定义
│                         ├── first             精选（新闻）页面
│                         ├── guide          导览页面
│                         └── my              我的页面
│                 └── Utils                  存放需要的一些工具类
└── res    存放一些资源文件，如图片，字体等

```


### 2、开发过程
#### 2.1 开发流程
#### 2.2 设计要点
本子系统主要用okhttp3通过后台提供的接口来获取所需的数据，用recyclerView组件实现列表的渲染。
#### 2.3 开发中遇到的问题及解决方案

| 问题 | 解决办法 |
| --- | --- |
| Android自带的viewpager不能自适应高度, 而且在不同的fragment内切换时有的页面会显示不全 | 自定义viewpager(取所有高度的最大值) |
| RecyclerView在进行网络请求的过程中若被点击会闪退 | 创建了list的副本，缓存网络请求前的数据 |

### 3、测试
	2020.05.19 发现在部分机型的手机上显示内容不全, 且有的图片加载缓慢
### 4、用户使用手册

### 5、更新
	2020.05.20 第一次更新，利用了线性布局的weightSum属性消除了上面测试出现的布局上的问题，本子系统除收藏外基本完成
